Creating a Professional KPI Heatmap in Power BI

Step 1: Create the Column Header Table (Disconnected)
This table defines your matrix columns and their display order.

Heatmap_Col = 
DATATABLE(
    "Category", STRING,
    "Order", INTEGER,
    {
        {"KPI Name | SLA Tolerance | Frequency", 1},
        {"Tolerance", 2},
        {"Frequency", 3},
        {"M1", 4},
        {"M2", 5},
        {"M3", 6},
        {"M4", 7},
        {"M5", 8},
        {"M6", 9},
        {"M7", 10},
        {"M8", 11},
        {"M9", 12},
        {"M10", 13},
        {"M11", 14},
        {"M12", 15}
    }
)

Tip: Sort the matrix by 'Heatmap_Col'[Order] (ascending) in the visual settings.


Step 2: Create the Row Header Table (Disconnected)
This provides the KPI row identifiers.

Heatmap_KPI = 
DATATABLE(
    "KPI #", INTEGER,
    {
        {1}, {2}, {3}, {4}, {5}, {6}, {7}, {8}, {9}, {10},
        {11}, {12}, {13}, {14}, {15}, {16}, {17}, {18}, {19}, {20},
        {21}, {22}, {23}, {24}, {25}, {26}, {27}, {28}, {29}, {30},
        {31}, {32}, {33}, {34}
    }
)

Step 3: Create the Dynamic Value Measure
This single measure powers all cells in the matrix.

HM_Val = 
VAR CurrentKPI = SELECTEDVALUE('Heatmap_KPI'[KPI #])
VAR SelectedCol = SELECTEDVALUE('Heatmap_Col'[Category])
VAR IsMonthCol = SelectedCol IN {"M1","M2","M3","M4","M5","M6","M7","M8","M9","M10","M11","M12"}

VAR Result = 
    SWITCH(
        TRUE(),
        SelectedCol = "KPI Name | SLA Tolerance | Frequency", 
            LOOKUPVALUE('KPI Name'[NAME], 'KPI Name'[KPI #], CurrentKPI),
        
        SelectedCol = "Tolerance", 
            LOOKUPVALUE('Global'[KPI SLA], 'Global'[KPI #], CurrentKPI),
        
        SelectedCol = "Frequency", 
            LOOKUPVALUE('Global'[Frequency_N], 'Global'[KPI #], CurrentKPI),
        
        IsMonthCol,
            CALCULATE(
                SUM('Global'[SC Values_N]),
                'Global'[Month] = SelectedCol,
                'Global'[KPI #] = CurrentKPI
            )
    )

RETURN
    IF(IsMonthCol && ISBLANK(Result), 0, Result)  // Show 0 instead of blank for months

Step 4: Build the Matrix Visual

Add a Matrix visual to your report page ("Client Heatmap - All").
Rows → 'Heatmap_KPI'[KPI #]
Columns → 'Heatmap_Col'[Category]
Values → HM_Val (the measure above)
Sort columns by 'Heatmap_Col'[Order]


Step 5: Turn It Into a True Heatmap (Essential!)
To make monthly values pop with color intensity:

Select the matrix → Format pane → Conditional formatting → Background color (on HM_Val)
Choose Gradient (or Rules)
Set color scale (e.g., red → yellow → green for low → medium → high performance)
Optionally apply the same conditional formatting to Font color → matching background to hide text in low-value cells (classic heatmap look)
Turn off row/column subtotals and grid lines for a cleaner appearance

Pros of This Approach

Single matrix with mixed text + numbers
Easy to add new columns (just update Heatmap_Col table)
Full control over column order

---

Alternative Recommendation (Often Better Long-Term)
If your data is structured properly (one row per KPI per month), consider reshaping in Power Query:

Unpivot monthly columns → create real "Month" column
Then use a regular matrix: Rows = KPI Name, Columns = Month, Values = SC Values_N
Add separate cards or columns for Tolerance/Frequency

Benefits: No disconnected tables needed, easier conditional formatting, better performance, dynamic months.


